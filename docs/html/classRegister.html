<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TM4C123GH6PM Drivers: Register Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TM4C123GH6PM Drivers
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classRegister-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Register Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class used to unify the access to registers.  
 <a href="classRegister.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="register_8h_source.html">register.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a669b96861697fb8c04bce79f04390c66"><td class="memItemLeft" align="right" valign="top"><a id="a669b96861697fb8c04bce79f04390c66"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRegister.html#a669b96861697fb8c04bce79f04390c66">Register</a> ()</td></tr>
<tr class="memdesc:a669b96861697fb8c04bce79f04390c66"><td class="mdescLeft">&#160;</td><td class="mdescRight">empty constructor placeholder <br /></td></tr>
<tr class="separator:a669b96861697fb8c04bce79f04390c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27490bda19cd4bd6ca09b48a795fc060"><td class="memItemLeft" align="right" valign="top"><a id="a27490bda19cd4bd6ca09b48a795fc060"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRegister.html#a27490bda19cd4bd6ca09b48a795fc060">~Register</a> ()</td></tr>
<tr class="memdesc:a27490bda19cd4bd6ca09b48a795fc060"><td class="mdescLeft">&#160;</td><td class="mdescRight">empty deconstructor placeholder <br /></td></tr>
<tr class="separator:a27490bda19cd4bd6ca09b48a795fc060"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4cf68c709a58963070d518e6b7715ea6"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRegister.html#a4cf68c709a58963070d518e6b7715ea6">getRegisterBitFieldStatus</a> (volatile uint32_t *address, uint32_t bit, uint32_t bitWidth, <a class="el" href="register_8h.html#a569234f4390abbfd890ac5b6e86b5c01">bitFieldPermission</a> permission)</td></tr>
<tr class="separator:a4cf68c709a58963070d518e6b7715ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a656301289a68ff4c631d1cb011c6f7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRegister.html#a3a656301289a68ff4c631d1cb011c6f7">setRegisterBitFieldStatus</a> (volatile uint32_t *address, uint32_t value, uint32_t bit, uint32_t bitWidth, <a class="el" href="register_8h.html#a569234f4390abbfd890ac5b6e86b5c01">bitFieldPermission</a> permission)</td></tr>
<tr class="separator:a3a656301289a68ff4c631d1cb011c6f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class used to unify the access to registers. </p>
<h1><a class="anchor" id="registerDescription"></a>
Register Class Description</h1>
<p>This helper class is used to unify and abstract away accessing the registers. This makes the code easier to read and more maintainable. The class's static functions take care of clearing the bitfield before writing to it, to ensure that the correct value is alway written.</p>
<p>Additionally, new and delete is redefined in the .cpp file for this class to eliminate exception handling, which is not needed in an embedded enviroment. </p>

<p class="definition">Definition at line <a class="el" href="register_8h_source.html#l00077">77</a> of file <a class="el" href="register_8h_source.html">register.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4cf68c709a58963070d518e6b7715ea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cf68c709a58963070d518e6b7715ea6">&#9670;&nbsp;</a></span>getRegisterBitFieldStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Register::getRegisterBitFieldStatus </td>
          <td>(</td>
          <td class="paramtype">volatile uint32_t *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bitWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="register_8h.html#a569234f4390abbfd890ac5b6e86b5c01">bitFieldPermission</a>&#160;</td>
          <td class="paramname"><em>permission</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>of the register </td></tr>
    <tr><td class="paramname">bit</td><td>to be retrieved or the first bit of the bitfield to be retrieved </td></tr>
    <tr><td class="paramname">width</td><td>of the bitfield </td></tr>
    <tr><td class="paramname">permission</td><td>of the bitfield, read-only, write-only, etc...</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>retrieved information in the bitfield </dd></dl>

<p class="definition">Definition at line <a class="el" href="disasembly_8txt_source.html#l00238">238</a> of file <a class="el" href="disasembly_8txt_source.html">disasembly.txt</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span>((permission == RW) || (permission == RO) || (permission == RW1C))</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        uint32_t select = ((((0xFFFFFFFF &gt;&gt; (32 - bitWidth)))) &lt;&lt; bit);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">return</span>(((*address) &amp; select) &gt;&gt; bit);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; 340:   f8d3 23fc   ldr.w   r2, [r3, #1020] ; 0x3fc</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        uint32_t select = ((((0xFFFFFFFF &gt;&gt; (32 - bitWidth)))) &lt;&lt; bit);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; 344:   2301        movs    r3, #1</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; 346:   4083        lsls    r3, r0</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">return</span>(((*address) &amp; select) &gt;&gt; bit);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; 348:   4013        ands    r3, r2</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; 34a:   fa23 f000   lsr.w   r0, r3, r0</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; 34e:   4770        bx  lr</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;00000350 &lt;_ZN8Register25setRegisterBitFieldStatusEPVmmmm18bitFieldPermission.part.0&gt;:</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">return</span>(UINT32_MAX);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRegister.html#a3a656301289a68ff4c631d1cb011c6f7">Register::setRegisterBitFieldStatus</a>(<span class="keyword">volatile</span> uint32_t* address, uint32_t value, uint32_t bit, uint32_t bitWidth, <a class="code" href="register_8h.html#a569234f4390abbfd890ac5b6e86b5c01">bitFieldPermission</a> permission)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; 350:   b510        push    {r4, lr}</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3a656301289a68ff4c631d1cb011c6f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a656301289a68ff4c631d1cb011c6f7">&#9670;&nbsp;</a></span>setRegisterBitFieldStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Register::setRegisterBitFieldStatus </td>
          <td>(</td>
          <td class="paramtype">volatile uint32_t *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bitWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="register_8h.html#a569234f4390abbfd890ac5b6e86b5c01">bitFieldPermission</a>&#160;</td>
          <td class="paramname"><em>permission</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>of the register </td></tr>
    <tr><td class="paramname">value</td><td>to be written to the bitfield </td></tr>
    <tr><td class="paramname">bit</td><td>to be retrieved or the first bit of the bitfield to be retrieved </td></tr>
    <tr><td class="paramname">width</td><td>of the bitfield </td></tr>
    <tr><td class="paramname">permission</td><td>of the bitfield, read-only, write-only, etc... </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="register_8cpp_source.html#l00076">76</a> of file <a class="el" href="register_8cpp_source.html">register.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span>((permission == RW1C) &amp;&amp; (value != 1))</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>((permission == RW) || (permission == WO) || (permission == RW1C))</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        uint32_t maxValue = (0xFFFFFFFF &gt;&gt; (32 - bitWidth));</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">if</span>((value &lt;= maxValue))</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            uint32_t clear = (~(maxValue &lt;&lt; bit));</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            value = value &lt;&lt; bit;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            (*address) &amp;= clear;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            (*address) |= value;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>register/<a class="el" href="register_8h_source.html">register.h</a></li>
<li>disasembly.txt</li>
<li>register/<a class="el" href="register_8cpp_source.html">register.cpp</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclassRegister_html_a3a656301289a68ff4c631d1cb011c6f7"><div class="ttname"><a href="classRegister.html#a3a656301289a68ff4c631d1cb011c6f7">Register::setRegisterBitFieldStatus</a></div><div class="ttdeci">static void setRegisterBitFieldStatus(volatile uint32_t *address, uint32_t value, uint32_t bit, uint32_t bitWidth, bitFieldPermission permission)</div><div class="ttdef"><b>Definition:</b> <a href="register_8cpp_source.html#l00076">register.cpp:76</a></div></div>
<div class="ttc" id="aregister_8h_html_a569234f4390abbfd890ac5b6e86b5c01"><div class="ttname"><a href="register_8h.html#a569234f4390abbfd890ac5b6e86b5c01">bitFieldPermission</a></div><div class="ttdeci">bitFieldPermission</div><div class="ttdef"><b>Definition:</b> <a href="register_8h_source.html#l00067">register.h:68</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
